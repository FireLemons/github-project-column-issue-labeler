on:
  workflow_dispatch:

jobs:
  label_issues:
    runs-on: ubuntu-latest
    name: Manage Issue Labels
    steps:
      - uses: actions/checkout@main
        with:
          submodules: 'true'
      - uses: ./github-project-column-issue-labeler/
        id: manage-project-issue-labels
        name: Manage Project Issue Labels
        with:
          column_label_config: >
            [
              {},
              {
                "a": 3,
                "b": "b"
              },
              {
                "columnName": "String"
              },
              {
                "labelingRules": []
              },
              {
                "columnName": 3,
                "labelingRules": []
              },
              {
                "columnName": "Name",
                "labelingRules": 3
              },
              {
                "columnName": "                 ",
                "labelingRules": []
              },
              {
                "columnName": "",
                "labelingRules": []
              }
            ]
          token: ${{secrets.GITHUB_TOKEN}}

# Result: 

#         Validating Config
#           Checking column at index 0
# Warning:     Could not make valid column configuration from value at index: 0. Skipping column.
# Error:         key "columnName" was not found in the object
#           Checking column at index 1
# Warning:     Could not make valid column configuration from value at index: 1. Skipping column.
# Error:         key "columnName" was not found in the object
#           Checking column at index 2
# Warning:     Could not make valid column configuration from value at index: 2. Skipping column.
# Error:         key "labelingRules" was not found in the object
#           Checking column at index 3
# Warning:     Could not make valid column configuration from value at index: 3. Skipping column.
# Error:         key "columnName" was not found in the object
#           Checking column at index 4
# Warning:     Could not make valid column configuration from value at index: 4. Skipping column.
# Error:         Member "columnName" was found not to be a string
#           Checking column at index 5
# Warning:     Could not make valid column configuration from value at index: 5. Skipping column.
# Error:         Member "labelingRules" was found not to be an array
#           Checking column at index 6
# Warning:     Could not make valid column configuration from value at index: 6. Skipping column.
# Error:         columnName must contain at least one non whitespace character
#           Checking column at index 7
# Warning:     Could not make valid column configuration from value at index: 7. Skipping column.
# Error:         columnName must contain at least one non whitespace character
# Error:   Could not find any valid actions to perform from the configuration